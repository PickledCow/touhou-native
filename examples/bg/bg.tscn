[gd_scene load_steps=25 format=2]

[ext_resource path="res://addons/zylann.hterrain/hterrain_texture_set.gd" type="Script" id=1]
[ext_resource path="res://addons/zylann.hterrain/hterrain.gd" type="Script" id=2]
[ext_resource path="res://examples/bg/terrain/data/data.hterrain" type="Resource" id=3]
[ext_resource path="res://examples/bg/3dbg.gd" type="Script" id=4]
[ext_resource path="res://examples/bg/mountain/data.hterrain" type="Resource" id=5]
[ext_resource path="res://examples/bg/mountain/bg_slot0_albedo_bump.packed_tex" type="Texture" id=6]
[ext_resource path="res://examples/bg/sky/panorama_image.png" type="Texture" id=7]
[ext_resource path="res://examples/bg/mountain/bg_slot1_albedo_bump.packed_tex" type="Texture" id=8]
[ext_resource path="res://assets/maujoe.basic_water_material/materials/basic_water_material.material" type="Material" id=9]
[ext_resource path="res://examples/bg/mountain/bg_slot1_normal_roughness.packed_tex" type="Texture" id=10]
[ext_resource path="res://examples/bg/bg_slot1_albedo_bump.packed_tex" type="Texture" id=11]
[ext_resource path="res://examples/bg/bg_slot1_normal_roughness.packed_tex" type="Texture" id=12]
[ext_resource path="res://examples/bg/bg_slot0_normal_roughness.packed_tex" type="Texture" id=13]
[ext_resource path="res://examples/bg/bg_slot0_albedo_bump.packed_tex" type="Texture" id=14]
[ext_resource path="res://addons/native_bullets/bullets_environment.gd" type="Script" id=22]

[sub_resource type="Resource" id=99]
script = ExtResource( 1 )
mode = 0
textures = [ [ ExtResource( 14 ), ExtResource( 11 ) ], [ ExtResource( 13 ), ExtResource( 12 ) ] ]

[sub_resource type="Resource" id=105]
script = ExtResource( 1 )
mode = 0
textures = [ [ ExtResource( 6 ), ExtResource( 8 ) ], [ null, ExtResource( 10 ) ] ]

[sub_resource type="PlaneMesh" id=3]
material = ExtResource( 9 )
size = Vector2( 16, 48 )

[sub_resource type="Animation" id=4]
resource_name = "uv_water"
loop = true
tracks/0/type = "value"
tracks/0/path = NodePath(".:mesh:material:uv1_offset")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 1 ),
"transitions": PoolRealArray( 1, 1 ),
"update": 0,
"values": [ Vector3( 0, 0, 0 ), Vector3( 1, 0, 0 ) ]
}

[sub_resource type="PanoramaSky" id=106]
panorama = ExtResource( 7 )

[sub_resource type="Environment" id=96]
background_mode = 2
background_sky = SubResource( 106 )
background_sky_orientation = Basis( 0.707107, 0, 0.707107, 0, 1, 0, -0.707107, 0, 0.707107 )
background_energy = 1.5
ambient_light_color = Color( 0, 0.623529, 1, 1 )
ambient_light_sky_contribution = 0.96
fog_color = Color( 0.807843, 0.890196, 0.94902, 1 )
fog_sun_color = Color( 1, 1, 1, 1 )
fog_depth_begin = 256.0
fog_depth_end = 400.0
fog_depth_curve = 1.18921
dof_blur_far_distance = 8192.0
glow_bloom = 0.25

[sub_resource type="Animation" id=100]
resource_name = "1"
length = 70.0
step = 1.0
tracks/0/type = "value"
tracks/0/path = NodePath("Camera:translation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 60, 64, 67 ),
"transitions": PoolRealArray( 1, 1, 1, 1 ),
"update": 0,
"values": [ Vector3( 0, 15, 128 ), Vector3( 299.104, 15, 128 ), Vector3( 314.06, 5, 128 ), Vector3( 334, 5, 128 ) ]
}
tracks/1/type = "bezier"
tracks/1/path = NodePath("Camera:rotation_degrees:x")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/keys = {
"points": PoolRealArray( -60, -0.25, 0, 0.25, 0, -60, -0.25, 0, 1, 0, 15, -1, 0, 0.25, 0, 15, -0.25, 0, 1, 0, -80, -1, 0, 0.25, 0, -80, -0.25, 0, 0.25, 0, 0, -0.25, 0, 0.25, 0 ),
"times": PoolRealArray( 0, 34, 38, 40, 44, 60, 64 )
}

[sub_resource type="Animation" id=97]
length = 0.001
tracks/0/type = "value"
tracks/0/path = NodePath("Camera:translation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0 ),
"transitions": PoolRealArray( 1 ),
"update": 0,
"values": [ Vector3( 0, 4, 128 ) ]
}
tracks/1/type = "bezier"
tracks/1/path = NodePath("Camera:rotation_degrees:x")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/keys = {
"points": PoolRealArray( -45, -0.25, 0, 0.25, 0 ),
"times": PoolRealArray( 0 )
}
tracks/2/type = "bezier"
tracks/2/path = NodePath("Camera:rotation_degrees:y")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/keys = {
"points": PoolRealArray( -90, -0.25, 0, 0.25, 0 ),
"times": PoolRealArray( 0 )
}
tracks/3/type = "bezier"
tracks/3/path = NodePath("Camera:rotation_degrees:z")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/keys = {
"points": PoolRealArray( 0, -0.25, 0, 0.25, 0 ),
"times": PoolRealArray( 0 )
}

[sub_resource type="Animation" id=98]
resource_name = "rise"
length = 4.0
tracks/0/type = "value"
tracks/0/path = NodePath("WorldEnvironment:environment:background_sky:sky_horizon_color")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/keys = {
"times": PoolRealArray( 0, 4 ),
"transitions": PoolRealArray( 1, 1 ),
"update": 0,
"values": [ Color( 1, 0.596078, 0.243137, 1 ), Color( 0.807843, 0.890196, 0.94902, 1 ) ]
}
tracks/1/type = "value"
tracks/1/path = NodePath("WorldEnvironment:environment:background_sky:sky_top_color")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/keys = {
"times": PoolRealArray( 0, 4 ),
"transitions": PoolRealArray( 1, 1 ),
"update": 0,
"values": [ Color( 0.0196078, 0.14902, 0.239216, 1 ), Color( 0.47451, 0.752941, 0.94902, 1 ) ]
}
tracks/2/type = "value"
tracks/2/path = NodePath("WorldEnvironment:environment:background_sky:ground_bottom_color")
tracks/2/interp = 1
tracks/2/loop_wrap = true
tracks/2/imported = false
tracks/2/enabled = true
tracks/2/keys = {
"times": PoolRealArray( 0, 4 ),
"transitions": PoolRealArray( 1, 1 ),
"update": 0,
"values": [ Color( 0.0196078, 0.121569, 0.192157, 1 ), Color( 0.47451, 0.752941, 0.94902, 1 ) ]
}
tracks/3/type = "value"
tracks/3/path = NodePath("WorldEnvironment:environment:background_sky:ground_horizon_color")
tracks/3/interp = 1
tracks/3/loop_wrap = true
tracks/3/imported = false
tracks/3/enabled = true
tracks/3/keys = {
"times": PoolRealArray( 0, 4 ),
"transitions": PoolRealArray( 1, 1 ),
"update": 0,
"values": [ Color( 1, 0.596078, 0.243137, 1 ), Color( 0.807843, 0.890196, 0.94902, 1 ) ]
}

[node name="3dbg" type="Spatial"]
script = ExtResource( 4 )

[node name="HTerrain" type="Spatial" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, -150, 0, 14.637 )
script = ExtResource( 2 )
ambient_wind = 0.02
lod_scale = 2.0
map_scale = Vector3( 1, 0.1, 0.5 )
_terrain_data = ExtResource( 3 )
chunk_size = 32
collision_enabled = false
collision_layer = 0
collision_mask = 0
shader_type = "Classic4"
custom_shader = null
custom_globalmap_shader = null
texture_set = SubResource( 99 )
render_layers = 1
shader_params/u_ground_uv_scale_per_texture = Plane( 3, 3, 3, 3 )
shader_params/u_depth_blending = true
shader_params/u_triplanar = false
shader_params/u_tile_reduction = Plane( 0, 0, 0, 0 )
shader_params/u_globalmap_blend_start = null
shader_params/u_globalmap_blend_distance = null
shader_params/u_colormap_opacity_per_texture = Plane( 1, 1, 1, 1 )

[node name="Mountains" type="Spatial" parent="."]
transform = Transform( 1, 0, 0, 0, 1, 0, 0, 0, 1, 235.417, 0, -373.026 )
script = ExtResource( 2 )
lod_scale = 2.0
map_scale = Vector3( 2, 1, 2 )
_terrain_data = ExtResource( 5 )
chunk_size = 32
collision_enabled = false
collision_layer = 1
collision_mask = 1
shader_type = "Classic4"
custom_shader = null
custom_globalmap_shader = null
texture_set = SubResource( 105 )
render_layers = 1
shader_params/u_ground_uv_scale_per_texture = Plane( 24, 24, 24, 24 )
shader_params/u_depth_blending = true
shader_params/u_triplanar = false
shader_params/u_tile_reduction = Plane( 0, 0, 0, 0 )
shader_params/u_globalmap_blend_start = null
shader_params/u_globalmap_blend_distance = null
shader_params/u_colormap_opacity_per_texture = Plane( 1, 1, 1, 1 )

[node name="OmniLight" type="OmniLight" parent="Mountains"]
transform = Transform( 0.776206, -0.0404867, 0.629178, -0.372515, 0.77567, 0.509478, -0.508662, -0.629838, 0.586998, 103.476, 5.38691, 494.706 )
light_color = Color( 0.890196, 0.968627, 1, 1 )
light_energy = 16.0
light_indirect_energy = 0.0
light_negative = true
light_specular = 0.0
omni_range = 52.433
omni_attenuation = 10.1965

[node name="Water" type="MeshInstance" parent="."]
transform = Transform( 10, 0, 0, 0, 1, 0, 0, 0, 8, 237.663, -1.23666, 128 )
mesh = SubResource( 3 )

[node name="AnimationPlayer" type="AnimationPlayer" parent="Water"]
autoplay = "uv_water"
playback_speed = 0.05
anims/uv_water = SubResource( 4 )

[node name="Camera" type="Camera" parent="."]
transform = Transform( -4.37114e-08, 0.707107, -0.707107, 0, 0.707107, 0.707107, 1, 3.09086e-08, -3.09086e-08, 0, 4, 128 )
current = true
far = 900.0

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource( 96 )

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
anims/1 = SubResource( 100 )
anims/RESET = SubResource( 97 )
anims/rise = SubResource( 98 )

[node name="Node2D" type="Node2D" parent="."]

[node name="BulletsEnvironment" type="Node" parent="Node2D"]
script = ExtResource( 22 )
bullet_types_amount = 0
